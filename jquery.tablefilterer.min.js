(function(a){a.fn.tablefilterer=function(d){var b=a.extend({cols:[]},d);var e=this.filter("table:has(thead):has(tbody)");e.each(function(){var i=a(this);var h=i.find("thead tr");var f=i.children("tbody");var g=[];h.children("th").each(function(l){if(b.cols.length!=0){var r=false;for(var n=0;n<b.cols.length;n++){if(b.cols[n]==l){r=true;break}}if(!r){return}}var k=a(this);var o=k.index();var p=a("<select/>").change(function(){c(f,g)});g[g.length]={Select:p,Col:l};p.append(a("<option/>").text("-- All --").val(""));var m=[];var q=f.find("td:nth-child("+(o+1)+")");q.each(function(){var t=false;var u=a(this).text();for(var s=0;s<m.length;s++){if(m[s]==u){t=true;break}}if(!t){m[m.length]=u}});m.sort();for(var n=0;n<m.length;n++){p.append(a("<option/>").text(m[n]).val(m[n]))}var j=a('<form action="#"/>');k.append(j.append(p))})});function c(f,h){var k=f.children("tr");for(var g=0;g<h.length;g++){var j=h[g].Select.val();if(j==""){continue}k=k.filter(function(i){return a(this).children("td:nth-child("+(h[g].Col+1)+")").text()==j})}f.children("tr").css("display","none");k.css("display","")}}})(jQuery);